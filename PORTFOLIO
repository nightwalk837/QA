#### Тест-кейс для API (Критическая уязвимость)

[cite\_start]Этот тест-кейс описывает проверку уязвимости, которую я обнаружил в API авторизации[cite: 28, 80].

| Поле | Описание |
| --- | --- |
| **ID** | `TC-API-AUTH-005` |
| **Название** | `[API] Авторизация - Неавторизованный доступ с пустым телом запроса` |
| **Приоритет** | `Highest` |
| **Предусловие** | Сервис авторизации доступен по эндпоинту `/api/auth/token`. |
| **Шаги выполнения** | 1. Открыть Postman. <br> 2. Создать `POST` запрос к эндпоинту `/api/auth/token`. <br> 3. В теле запроса (`Body`) передать пустой JSON-объект `{}`. <br> 4. Отправить запрос. |
| **Ожидаемый результат** | Сервер возвращает ошибку `400 Bad Request` или `401 Unauthorized` с сообщением о некорректных данных для входа. |
| **Фактический результат** | Сервер возвращает статус `200 OK` и валидный токен доступа. |

#### Тест-кейс для мобильного приложения

[cite\_start]Данный тест-кейс нацелен на проверку сохранения пользовательского прогресса — функциональности, где мной ранее был обнаружен баг[cite: 33].

| Поле | Описание |
| --- | --- |
| **ID** | `TC-MOB-PROG-001` |
| **Название** | `[Mobile] Профиль - Проверить сохранение прогресса пользователя после завершения урока` |
| **Приоритет** | `High` |
| **Предусловие** | 1. Пользователь авторизован в мобильном приложении (Android/iOS). <br> 2. Пользователь находится на экране урока. |
| **Шаги выполнения** | 1. Завершить урок. <br> 2. Нажать кнопку "Завершить". <br> 3. Вернуться на главный экран приложения. <br> 4. Полностью закрыть и заново открыть приложение. <br> 5. Перейти на экран "Мой прогресс". |
| **Ожидаемый результат** | Прогресс пользователя обновлен. Завершенный урок корректно отмечен как пройденный. Изменения сохраняются после перезапуска приложения. |

#### Баг-репорт в Jira

[cite\_start]Это пример отчета об ошибке, который я бы составил на основе найденного дефекта с несохранением прогресса[cite: 33, 42].

  * **Project:** `Mobile App (MOB)`

  * **Issue Type:** `Bug`

  * **Summary:** `[Mobile] Прогресс пользователя не сохраняется после завершения урока`

  * **Component:** `User Profile`

  * **Severity:** `Critical`

  * **Priority:** `High`

  * **Environment:** `iOS 17.5 (iPhone 15 Pro), App v2.3.1 | Android 14 (Pixel 8), App v2.3.1`

  * **Description:**
    После завершения любого урока и перезапуска приложения прогресс пользователя не сохраняется. Это блокирует дальнейшее прохождение курса и демотивирует пользователей.

  * **Steps to Reproduce:**

    1.  Авторизоваться в приложении.
    2.  Перейти в раздел "Курсы" и выбрать любой ранее не пройденный урок.
    3.  Пройти урок до конца.
    4.  Нажать кнопку "Завершить".
    5.  Убедиться, что на экране курса урок отмечен как пройденный.
    6.  Полностью закрыть приложение (выгрузить из памяти).
    7.  Снова открыть приложение и перейти в тот же курс.

  * **Expected Result:**
    Урок, пройденный на шаге 3, остается отмеченным как "пройденный".

  * **Actual Result:**
    Урок отображается как "не начат". Прогресс пользователя не сохранился.

  * **Attachments:**

      * `[Screen-recording-bug-demo.mp4]`
      * `[Charles_proxy_log_no_userID.chls]`

  * **Analysis (optional):**
    [cite\_start]Анализ трафика через Charles Proxy [cite: 30] показал, что в теле запроса `POST /api/progress/update` отсутствует обязательное поле `userID`. Из-за этого бэкенд не может определить, для какого пользователя нужно обновить прогресс, и отбрасывает запрос.
